define(["jquery"],function(t){"use strict";function a(t){var n=this;this.initialize=function(){a(),e(),l(),i(),o(),r(),c(),s(),u(),d(),g(),x(),f(),v(),h()};var a=function(){for(var a=document.querySelectorAll("[data-lux-action-leadlistdetail]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-leadlistdetail");y(TYPO3.settings.ajaxUrls["/lux/leadlistdetail"],{visitor:t},"generalDetailCallback")})},e=function(){for(var a=document.querySelectorAll("[data-lux-action-analysiscontentdetailpage]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysiscontentdetailpage");y(TYPO3.settings.ajaxUrls["/lux/analysiscontentdetailpage"],{page:t},"generalDetailCallback")})},l=function(){for(var a=document.querySelectorAll("[data-lux-action-analysisnewsdetailpage]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysisnewsdetailpage");y(TYPO3.settings.ajaxUrls["/lux/analysisnewsdetailpage"],{news:t},"generalDetailCallback")})},i=function(){for(var a=document.querySelectorAll("[data-lux-action-analysisutmdetailpage]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysisutmdetailpage");y(TYPO3.settings.ajaxUrls["/lux/analysisutmdetailpage"],{visitor:t},"generalDetailCallback")})},o=function(){for(var a=document.querySelectorAll("[data-lux-action-analysissearchdetailpage]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysissearchdetailpage");y(TYPO3.settings.ajaxUrls["/lux/analysissearchdetailpage"],{searchterm:t},"generalDetailCallback")})},r=function(){for(var a=document.querySelectorAll("[data-lux-action-analysiscontentdetaildownload]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysiscontentdetaildownload");y(TYPO3.settings.ajaxUrls["/lux/analysiscontentdetaildownload"],{download:t},"generalDetailCallback")})},c=function(){for(var a=document.querySelectorAll("[data-lux-action-analysislinklistenerdetail]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysislinklistenerdetail");y(TYPO3.settings.ajaxUrls["/lux/analysislinklistenerdetail"],{linkListener:t},"generalDetailCallback")})},s=function(){for(var a=document.querySelectorAll("[data-lux-action-workflowdetail]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-workflowdetail");y(TYPO3.settings.ajaxUrls["/luxenterprise/workflowdetail"],{workflow:t},"generalDetailCallback")})},u=function(){for(var a=document.querySelectorAll("[data-lux-action-abtestingdetail]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-abtestingdetail");y(TYPO3.settings.ajaxUrls["/luxenterprise/abtestingdetail"],{abTesting:t},"generalDetailCallback")})},d=function(){for(var a=document.querySelectorAll("[data-lux-action-workflowurlshortenerdetail]"),t=0;t<a.length;t++)a[t].addEventListener("click",function(){k(a,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-workflowurlshortenerdetail");y(TYPO3.settings.ajaxUrls["/luxenterprise/workflowurlshortenerdetail"],{urlShortener:t},"generalDetailCallback")})},g=function(){var t=document.querySelector('[data-lux-container="detail"]');null!==t&&t.addEventListener("click",function(t){var a,t=t.target;0<t.getAttribute("data-lux-visitor-description")&&(t.classList.contains("lux-textarea__default")&&(t.classList.remove("lux-textarea__default"),t.value=""),a=t.getAttribute("data-lux-visitor-description"),t.addEventListener("blur",function(){y(TYPO3.settings.ajaxUrls["/lux/visitordescription"],{visitor:a,value:this.value},null)}))})},x=function(){var t=document.querySelector('[data-lux-container="detail"]');null!==t&&t.addEventListener("click",function(t){var t=t.target;null!==t.getAttribute("data-lux-linkmock-event")&&(t=t.getAttribute("data-lux-linkmock-event"),null!==(t=document.querySelector('[data-lux-linkmock-link="'+t+'"]'))&&t.click())})};this.generalDetailCallback=function(t){document.querySelector('[data-lux-container="detail"]').innerHTML=t.html,window.LuxDiagramObject.initialize()};var f=function(){for(var t=document.querySelectorAll("[data-lux-confirm]"),a=0;a<t.length;a++)t[a].addEventListener("click",function(t){var a=t.currentTarget.getAttribute("data-lux-confirm");!1===confirm(a)&&t.preventDefault()})};const v=function(){const a=document.querySelectorAll("[data-lux-asynchronous-image]");for(let t=0;t<a.length;t++){var e=a[t].getAttribute("data-lux-asynchronous-image");0<e&&y(TYPO3.settings.ajaxUrls["/lux/visitorimage"],{visitor:e},"asynchronousImageLoadingCallback",{element:a[t]})}};this.asynchronousImageLoadingCallback=function(t,a){a.element instanceof HTMLImageElement&&a.element.setAttribute("src",t.url)};const h=function(){const t=document.querySelectorAll("[data-lux-action-toggleaction]");t.forEach(function(t){t.addEventListener("click",function(t){t=t.currentTarget.getAttribute("data-lux-action-toggleaction");let a=document.querySelectorAll('[data-lux-action-togglecontainer="'+t+'"]');a.forEach(function(t){t.classList.toggle("hidden")})})})};var k=function(t,a){for(var e=0;e<t.length;e++)t[e].classList.remove(a)},y=function(t,a,e,l){var i;l=l||{},void 0!==t&&""!==t?((i=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&200===this.status&&null!==e&&n[e](JSON.parse(this.responseText),l)},i.open("POST",m(t,a),!0),i.send()):console.log("No ajax URI given!")},m=function(t,a){for(var e in a)a.hasOwnProperty(e)&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=e+"="+encodeURIComponent(a[e]));return t}}t(document).ready(function(){(new a).initialize()})});